<!doctype html>
<html lang="en">
<head>


  <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y19Z9KM7EN"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-Y19Z9KM7EN');
  </script>



  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PianoVisual – Online MIDI Piano with Live Visualization</title>
  <link rel="icon" type="image/png" href="/logo32.png" />
  <link rel="apple-touch-icon" href="/logo180.png" />
  <link rel="icon" href="/favicon.ico" />

  <meta
    name="description"
    content="PianoVisual lets you play and visualize your MIDI files in the browser. Choose themes, instruments, and watch notes light up in real time."
  />
  <meta property="og:site_name" content="PianoVisual" />
  <link rel="canonical" href="https://pianovisual.com/" />

  <!-- AdSense -->
  <script async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1502213318168443"
          crossorigin="anonymous"></script>
  <script async
          src="https://fundingchoicesmessages.google.com/i/pub-1502213318168443?ers=1"></script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "PianoVisual",
    "url": "https://pianovisual.com",
    "logo": "https://pianovisual.com/logo32.png"
  }
  </script>

  <style>
    /* Styles globaux */
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: #111;
      color: #fff;
      text-align: center;
    }
    #root { padding-top: 2rem; }

    /* Modal */
    #modal {
      display: flex;
      position: fixed; inset: 0;
      background: rgba(0,0,0,0.8);
      justify-content: center; align-items: center;
      padding: 1rem; z-index: 999;
    }
    .modal-content {
      position: relative;
      background: #222;
      padding: 2rem;
      border-radius: 8px;
      max-width: 700px; width: 100%;
      max-height: 80vh; overflow-y: auto;
      text-align: left;
    }
    .modal-content h1 {
      margin-top: 0; font-size: 2rem; color: #fff;
    }
    .modal-content p {
      margin: 1rem 0; line-height: 1.5; color: #ddd;
    }
    .close-btn {
      position: absolute; top: 1rem; right: 1rem;
      background: transparent; border: none;
      color: #fff; font-size: 1.5rem; cursor: pointer;
    }
    .modal-content .link-row {
      margin-top: 1.5rem;
      text-align: center;
    }
    .modal-content .link-row a {
      margin: 0 1rem;
      color: #aaa;           /* liens gris */
      text-decoration: none;
      font-size: 0.9rem;
    }
    .modal-content .link-row a:hover {
      text-decoration: underline;
    }
  </style>
</head>

<body>
  <!-- Modal affiché au chargement -->
  <div id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <button class="close-btn" aria-label="Close">×</button>
      <h1 id="modal-title"></h1>
      <div id="modal-body"></div>
      <div class="link-row">
        <a id="privacy-link" href="#"></a>
        <a id="contact-link" href="#"></a>
      </div>
    </div>
  </div>

  <!-- React monte ici -->
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>

  <script>
    // Contenu EN / FR
    const content = {
      en: {
        title: "About PianoVisual",
        paragraphs: [
          "PianoVisual delivers a stunning virtual piano right in your browser. Powered by React and Tone.js, it seamlessly supports touch gestures, keyboard shortcuts, and USB-MIDI controllers to recreate the feel of a real piano.",
          "Import your own .mid files or choose from our built-in demos. When a file is loaded, drag the progress bar to scrub through the song and watch each note light up its key in sync with animated falling bars.",
          "Designed for desktop, tablet, and smartphone, the interface adapts in both landscape and portrait. Control volume and sustain with sliders, and explore over 50 instrument voices and customizable themes.",
          "Regular updates bring fresh demo tracks, optimized soundfonts, and performance improvements. Whether you’re learning sheet music or jamming for fun, PianoVisual makes play and practice engaging.",
          "Ready to start? Click \"Load…\" to import a MIDI file or pick a demo, and let PianoVisual turn your music into a visual show."
        ],
        privacyText: "Privacy Policy",
        privacyHref: "/privacy.html",
        contactText: "Contact: pianovisualmidi@gmail.com",
        contactHref: "mailto:pianovisualmidi@gmail.com"
      },
      fr: {
        title: "À propos de PianoVisual",
        paragraphs: [
          "PianoVisual vous offre un piano virtuel époustouflant dans votre navigateur. Propulsé par React et Tone.js, il prend en charge les gestes tactiles, les raccourcis clavier et les contrôleurs USB-MIDI pour reproduire la sensation d’un vrai piano.",
          "Importez vos fichiers .mid ou choisissez une démonstration intégrée. Une fois chargé, glissez la barre de progression pour parcourir le morceau et regardez chaque note illuminer sa touche en synchronisation avec des barres animées.",
          "Optimisé pour bureau, tablette et smartphone, l’interface s’adapte en modes paysage et portrait. Contrôlez volume et sustain avec des curseurs, et explorez plus de 50 voix d’instruments et thèmes personnalisables.",
          "Des mises à jour régulières apportent de nouveaux morceaux démo, des soundfonts optimisés et des améliorations de performances. Que vous appreniez une partition ou que vous jouiez pour le plaisir, PianoVisual rend l’expérience captivante.",
          "Prêt à jouer ? Cliquez sur « Load… » pour importer un fichier MIDI ou choisir une démo, et laissez PianoVisual transformer votre musique en spectacle visuel."
        ],
        privacyText: "Politique de confidentialité",
        privacyHref: "/privacy-fr.html",
        contactText: "Contact : pianovisualmidi@gmail.com",
        contactHref: "mailto:pianovisualmidi@gmail.com"
      }
    };

    // Choix de la langue
    const lang = navigator.language.startsWith("fr") ? "fr" : "en";
    document.documentElement.lang = lang;

    // Injecter titre & paragraphes
    const { title, paragraphs, privacyText, privacyHref, contactText, contactHref } = content[lang];
    document.getElementById("modal-title").textContent = title;
    const body = document.getElementById("modal-body");
    paragraphs.forEach(txt => {
      const p = document.createElement("p");
      p.textContent = txt;
      body.appendChild(p);
    });

    // Configurer les liens
    const priv = document.getElementById("privacy-link");
    priv.textContent = privacyText;
    priv.href = privacyHref;
    const cont = document.getElementById("contact-link");
    cont.textContent = contactText;
    cont.href = contactHref;

    // Bouton de fermeture
    document.querySelector(".close-btn")
      .addEventListener("click", () => document.getElementById("modal").remove());
  </script>
</body>
</html>
